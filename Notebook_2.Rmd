---
title: "Notebook 2"
author: "your name"
date: "June 28, 2022"
output: html_notebook
---
# Fundamentals of Hydrology: Precipitation

Today, we are going to explore precipitation data. These data span several decades and are part of a Long Term Ecological Research Forest in Oregon. The [H.J.Andrews LTER](https://andrewsforest.oregonstate.edu/) is located in the Oregon Cascades. But before looking at these data, we need to load some packages that we installed in the previous session

```{r}
library(ggplot2)
library(dplyr)
library(lubridate)
```

We will also use a function created in R to assign the corresponding season to every date in our data set using the year 2012 as a reference (e.g.,[here](https://stackoverflow.com/questions/9500114/find-which-season-a-particular-date-belongs-to))

```{r}
#Season function
getSeason <- function(DATES){
  WS <- as.Date("2012-12-15", format = "%Y-%m-%d")#Winter solstice
  SE <- as.Date("2012-3-15",  format = "%Y-%m-%d")#Spring equinox
  SS <- as.Date("2012-6-15",  format = "%Y-%m-%d")#Summer solstice
  FE <- as.Date("2012-9-15",  format = "%Y-%m-%d")#Fall Equinox
  
  #Convert dates from any year to 2012 dates
  d <- as.Date(strftime(DATES, format = "2012-%m-%d"))
  
  ifelse(d >= WS | d < SE, "Winter",
         ifelse (d >= SE & d < SS, "Spring",
                 ifelse (d >= SS & d < FE, "Summer", "Fall")))
}
#One note: 2012 is a good year to which to convert all of the dates; since it is a leap year, any February 29ths in your data set will be handled smoothly.
```

 We will also need an overall theme for our graphics (feel free to change the name of the theme-but be consistent accross the code):
 
```{r}
#Defining a common theme for our graphics
theme_fg = theme(axis.text=element_text(colour="black",size=14),
                 axis.title.y = element_text(size = 20),
                 axis.title.x = element_text(size = 20),
                 panel.grid.minor= element_line(colour = "gray", linetype = "dotted"), 
                 panel.grid.major = element_line(colour = "gray", linetype = "dashed"),
                 panel.border = element_rect(fill=NA, colour = "black", size=1),
                 panel.background=element_blank(),
                 axis.ticks.length = unit(0.254, "cm"),
                 axis.ticks = element_line(colour = "black", size=1), 
                 axis.line = element_line(colour = "black"),
                 legend.position = c(.90,.90),
                 legend.direction = "vertical",
                 legend.background = element_rect(fill=alpha(0.1)),
                 legend.title = element_blank())
```
 
 



Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.
